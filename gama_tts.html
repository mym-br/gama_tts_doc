<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="gama_tts_doc.css">
<title>GamaTTS - GamaTTS</title>
</head>

<body>

<div id="page">

<nav>
<ul class="horizontal-menu">
	<li><a class="menu-item" href="index.html">Index</a></li>
	<li><a class="menu-item" href="how_to_use.html">How to use</a></li>
	<li><a class="menu-item" href="contact.html">Contact</a></li>
</ul>
</nav>


<div class="content">
<h1>How to use GamaTTS</h1>

<p>Execute <code>gama_tts --help</code> to see how to run the program.
</p>

<h2>Modes of execution</h2>

<p>There are four modes of execution:<p>

<ol>
<li><code>gama_tts tts</code> (text-to-speech)<br>
<p>In this mode, the input text is converted to speech audio. First the text parser converts the text to a phonetic string.
Then the control model converts this string to vocal tract model parameters.
Finally, the vocal tract model converts these parameters to speech audio.
</p>
</li>
<li><code>gama_tts pho0</code> (Gnuspeech phonetic format)<br>
<p>In this mode, the control model converts the input phonetic string to vocal tract model parameters.
Then the vocal tract model converts these parameters to speech audio.
</p>
<p>Note: This mode does not use a Posture rewriter.
</p>
</li>
<li><code>gama_tts pho1</code> (<a href="http://tcts.fpms.ac.be/synthesis/mbrola.html">MBROLA</a> phonetic format)</h2>
<p>This mode works like the previous one, but the input format is different.
With this mode, an external front-end can be used, like Festival or Espeak.
</p>
</li>
<li><code>gama_tts vtm</code> (vocal tract model)<br>
<p>In this mode the vocal tract model converts the input parameters to speech audio.
</p>
</li>
</ol>

<hr>

<h2>Gnuspeech phonetic format</h2>

<p>- Valid Posture names contain Unicode characters except:<br>
<code>0000-0020</code><br>
<code>007F (DEL)</code><br>
<code>' (apostrophe)</code><br>
<code>_ (underscore)</code><br>
<code>*</code><br>
<code>.</code><br>
<code>/</code><br>
<code>0-9</code><br>
</p>

<p>- Postures are separated by <code>_</code> (underscore).
</p>

<p>- Other symbols:<br>
<table>
<tr><td><code>/0</code>     </td><td>Set current tone group type: statement        </td></tr>
<tr><td><code>/1</code>     </td><td>Set current tone group type: exclamation      </td></tr>
<tr><td><code>/2</code>     </td><td>Set current tone group type: question         </td></tr>
<tr><td><code>/3</code>     </td><td>Set current tone group type: continuation     </td></tr>
<tr><td><code>/4</code>     </td><td>Set current tone group type: semicolon        </td></tr>
<tr><td><code>/_</code>     </td><td>New foot                                      </td></tr>
<tr><td><code>/*</code>     </td><td>New marked foot                               </td></tr>
<tr><td><code>//</code>     </td><td>New tone group                                </td></tr>
<tr><td><code>/c</code>     </td><td>New chunk                                     </td></tr>
<tr><td><code>/l</code>     </td><td>Last foot in tone group marker                </td></tr>
<tr><td><code>/w</code>     </td><td>New word                                      </td></tr>
<tr><td><code>/fNN.NN</code></td><td>Foot tempo                                    </td></tr>
<tr><td><code>/rNN.NN</code></td><td>Rule tempo                                    </td></tr>
<tr><td><code>.</code>      </td><td>New syllable                                  </td></tr>
<tr><td><code>NN.NN</code>  </td><td>Tempo of the next posture                     </td></tr>
</table>
</p>

<p>- Example:<br>
The quick black dog jumps over the lazy brown fox.<br>
<code>/c // /0 # /w dh_uh /w /_k_w_i_k /w /_b_l_aa_k /w /_d_o_g /w /_j_a_m_p_s /w /_uh_uu.v_uh_r /w dh_uh /w /_l_e_i.z_i /w /_b_r_ah_uu_n /w /l /*f_o_k_s # // /c</code>
</p>

<hr>

<h2>MBROLA phonetic format</h2>

<p>The phonetic string contains lines in the format:<br>
<code>phoneme duration intonation_point_pos_1 intonation_point_value_1 intonation_point_pos_2 intonation_point_value_2...</code><br>
Comments start with a semicolon. The intonation points are optional.
</p>

<p>The duration is in milliseconds. The intonation point position is defined as the percentage of the time between phonemes.
The intonation point value is in Hz.
<p>

<p>Example:
<pre>
<code>
; This is a test.
pau 220
dh   37   0  99
ax   44  50 111
k   133   0 111
w    48
ih   52  50 131
k    58
b    95   0 128
r    44
aw  183  50 137
n    84
f   108   0 130
aa  165  50 131
k   115
s   144 100 124
pau 220
</code>
</pre>
</p>

<hr>

<h2>Description of the data files (<code>data/english/vtm0</code> to <code>vtm5</code>)</h2>

<pre>
artic.xml
	Contains the articulatory database.

	It can be modified with a plain text editor, but the use of
	GamaTTS:Editor is recommended.

interactive.config
	Configuration file for the interactive vocal tract model.

voice_baby.config
voice_female.config
voice_large_child.config
voice_male.config
voice_small_child.config
	Contain the voice parameters.

		vocal_tract_length

		glottal_pulse_tp
			Rise time, in % of the period.
		glottal_pulse_tn_min
			Fall time, in % of the period - for the highest pulse
			amplitude.
		glottal_pulse_tn_max
			Fall time, in % of the period - for the lowest pulse
			amplitude.

			These parameters modify the glottal pulse shape.

		reference_glottal_pitch
			Modifies the voice pitch.

		breathiness

		loss_factor
			Defines the acoustic loss inside the vocal tract.

		intonation_factor
			The intonation curve is multiplied by this factor.

vtm_control_model.config
	Contains the parameters for the vocal tract model controller.

		voice_name
			Example: If voice_name = male, the voice file named
			voice_male.config will be loaded.
		tempo
			Values greater than 1.0 will speed up the speech.
		pitch_offset
			Modifies the voice pitch.

		drift_deviation
		drift_lowpass_cutoff
			Control the random perturbations in the intonation
			(requires intonation_drift = 1).

		dictionary_1_file
		dictionary_2_file
		dictionary_3_file
			Indicate the dictionaries (the dictionaries will be
			searched in the order 1, 2, 3).

vtm.config
	Contains the parameters for the vocal tract model.

		model
			The vocal tract model type.
		vocal_tract_length_offset
			This value is added to the vocal tract length.

intonation_rhythm/
	intonation.config
		Contains constants for the intonation.
	rhythm.config
		Contains constants for the rhythm calculation.
	tone_group_param-continuation.txt
	tone_group_param-exclamation.txt
	tone_group_param-question.txt
	tone_group_param-semicolon.txt
	tone_group_param-statement.txt
		Intonation parameters for each tone group.
		If random_intonation = 0 in vtm_control_model.config, only the
		first line in each file will be used. If random_intonation = 1,
		the line will be randomly selected.

pho1_parser/
	Configuration for the phonetic string parser (MBROLA format).

		phoneme_map-*.txt
			Contains the mapping between the input phonemes and the
			internal phonemes (Postures).

phonetic_string_parser/
	Configuration for the phonetic string parser (Gnuspeech format).

		rewrite.txt
			Contains rules that may modify the phonetic string.

text_parser/
	Configuration for the text to phonetic string converter.

		abbreviations_with_number.txt
		abbreviations.txt
		main_dictionary.txt
			The main dictionary, which relates words to postures.
		special_acronyms.txt
		suffix_list.txt
		text_parser.config
			Configuration for the text parser.

</pre>

</div>

	<div id="footer">This documentation is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
<br>
Last update: 2017-08-18
</div>

</div>

</body>
</html>
